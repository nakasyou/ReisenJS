{
  "version": 3,
  "sources": ["../src/main.js", "../src/pointer.js", "../src/mouse.js", "../src/pointers.js"],
  "sourcesContent": ["import Pointer from './pointer.js';\nimport Mouse from './mouse.js';\nimport Pointers from './pointers.js';\n\nexport default class Reisen{\n  constructor(element,options={}){\n    const safeOption={\n      \n    };\n    Object.keys(safeOption).forEach(key=>{\n      if(!Object.keys(options).includes(key)){\n        options[key]=safeOption[key];\n      }\n    });\n    Object.defineProperty(this,'_pointers', {\n      value: new Pointers(),\n      writable:false,\n      enumerable:false,\n    });\n    Object.defineProperty(this,'_events',{value:{}});\n    this.element=element;\n    element.addEventListener(\"touchstart\",e=>{\n      const elemRect=element.getBoundingClientRect();\n      Object.values(e.changedTouches).forEach(touch=>{\n        const pointer=new Pointer(touch.identifier);\n        pointer.x=touch.clientX-elemRect.x;\n        pointer.y=touch.clientY-elemRect.y;\n        pointer.id=touch.identifier;\n        this._pointers.start(pointer);\n      });\n    });\n    element.addEventListener(\"touchend\",e=>{\n      Object.values(e.changedTouches).forEach(touch=>{\n        this._pointers.end(touch.identifier);\n      });\n    });\n    element.addEventListener(\"touchcancel\",e=>{\n      this._pointers.cancel();\n    });\n    element.addEventListener(\"touchmove\",e=>{\n      const elemRect=element.getBoundingClientRect();\n      Object.values(e.changedTouches).forEach(touch=>{\n        const x=touch.clientX-elemRect.x;\n        const y=touch.clientY-elemRect.y;\n        this._pointers.move(touch.identifier,x,y);\n      });\n    });\n    element.addEventListener(\"mousedown\",e=>{\n      this._pointers.mouse._down();\n      const elemRect=element.getBoundingClientRect();\n      const x=e.clientX-elemRect.x;\n      const y=e.clientY-elemRect.y;\n      this._pointers.mouse.x=x;\n      this._pointers.mouse.y=y;\n    });\n    element.addEventListener(\"mouseup\",e=>{\n      this._pointers.mouse._up();\n    });\n    element.addEventListener(\"mousemove\",e=>{\n      const elemRect=element.getBoundingClientRect();\n      const x=e.clientX-elemRect.x;\n      const y=e.clientY-elemRect.y;\n      this._pointers.mouse.x=x;\n      this._pointers.mouse.y=y;\n    });\n  }\n  get pointers(){\n    return this._pointers.pointers;\n  }\n  get pointer(){\n    return this._pointers.pointers.at(0);\n  }\n  addEvent(name,func){\n    if(!this._events[name]){\n      this._events[name]=[];\n    }\n    this._events[name].push(func);\n  }\n  clearEvent(name){\n    this._events[name]=[];\n  }\n  callEvent(name,...arg){\n    if(this._events[name]){\n      this._events[name].forEach(fn=>{\n        fn(...arg);\n      });\n    }\n  }\n}\n", "export default class Pointer{\n  constructor(id){\n    if(id){\n      this.id=id;\n    }\n    this.down=true;\n    Object.defineProperty(this,'_x',{value:0,writable:true});\n    Object.defineProperty(this,'_y',{value:0,writable:true\n    });\n    Object.defineProperty(this,'_delta',{\n      value:{x:0,y:0}\n    });\n    Object.defineProperty(this,'_last',{\n      value:{x:0,y:0,time:new Date().getTime()}\n    });\n  }\n  _deltaCalc(){\n    const time=new Date().getTime();\n    const deltaTime=time-this._last.time;\n    if(deltaTime===0){\n      return;\n    }\n    this._delta.x=(this.x-this._last.x)/deltaTime;\n    this._delta.y=(this.y-this._last.y)/deltaTime;\n    this._last.x=this.x;\n    this._last.y=this.y;\n    this._last.time=time;\n  }\n  get delta(){\n    this._deltaCalc();\n    return this._delta;\n  }\n  setXY(x,y){\n    if(x){\n      this._x=x;\n    }\n    if(y){\n      this._y=y;\n    }\n    this._deltaCalc();\n  }\n  set x(x){\n    this.setXY(x);\n  }\n  get x(){\n    return this._x;\n  }\n  set y(y){\n    this.setXY(null,y);\n  }\n  get y(){\n    return this._y;\n  }\n}\n", "import Pointer from './pointer.js';\nexport default class Mouse extends Pointer{\n  constructor(){\n    super(\"mouse\");\n    this.down=false;\n  }\n  _down(){\n    this.down=true;\n  }\n  _up(){\n    this.down=false;\n  }\n}\n", "import Pointer from './pointer.js';\nimport Mouse from './mouse.js';\n\nexport default class Pointers extends Array{\n  constructor(){\n    super();\n    this.mouse=new Mouse();\n  }\n  get pointers(){\n    return this.concat(this.mouse);\n  }\n  start(pointer){\n    if(!this.includes(pointer)){\n      this.push(pointer);\n    }else{\n      throw new TypeError(\"already contains the element\");\n    }\n  }\n  end(id){\n    let index=0;\n    for(const touch of this){\n      if(touch.id===id){\n        this.splice(index,1);\n        break;\n      }\n      index++;\n    }\n  }\n  cancel(){\n    this.splice(1);\n  }\n  move(id,x,y){\n    const index=this.search(id);\n    if(index!==-1){\n      this[index].x=x;\n      this[index].y=y;\n    }\n  }\n  search(id){\n    let index=0;\n    for(const touch of this){\n      if(touch.id===id){\n        return index;\n      }\n      index++;\n    }\n    return -1;\n  }\n  \n}\n"],
  "mappings": "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",
  "names": ["main_exports", "__export", "Reisen", "__toCommonJS", "Pointer", "id", "time", "deltaTime", "x", "y", "Mouse", "Pointer", "Pointers", "Mouse", "pointer", "id", "index", "touch", "x", "y", "Reisen", "element", "options", "safeOption", "key", "Pointers", "elemRect", "touch", "pointer", "Pointer", "x", "y", "name", "func", "arg", "fn"]
}
